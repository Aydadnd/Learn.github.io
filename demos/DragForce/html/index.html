<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drag Force Simulation</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../style/bootstrap.min.css">

  <!-- Main style sheet -->
  <link rel="stylesheet" href="../style/style.css">

  <!-- Bootstrap dependencies -->
  <script src="../js/popper.js"></script>
  <script src="../js/jquery.js"></script>

  <!-- Bootstrap JS -->
  <script src="../js/bootstrap.min.js"></script>

  <!-- Flot library for plotting stuff http://www.flotcharts.org/ -->
  <script src="../js/jquery.flot.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body onload = "loadAxes()">

  <div id="app">

    <div id="controls-area">

      <div id="top-controls-row">
        <div id="modal-buttons">
          <div id="dir" class="btn btn-primary" data-toggle="modal" data-target="#directionsModal">Directions</div>
          <div id="detail" class="btn btn-primary" data-toggle="modal" data-target="#detailsModal">Details</div>
          <div id="about" class="btn btn-primary" data-toggle="modal" data-target="#aboutModal">About</div>
        </div>

        <div id="other-buttons">
          <div id="start-pause-button" class="btn btn-success">Start</div>
          <div id="reset-button" class="btn btn-danger">Reset</div>
         
        </div>
      </div>

      <div id="bottom-controls-row">
                
        <div id="variables-stack" >

          <div class="data-area" id="input-variables">
            <div class="select-row">
              <select id="object-selection"  style="width: 130px; font-size: 13px;">
                <option value="1" disabled selected hidden>Select an object</option> 
                <option value="1">Soccer ball</option>
                <option value="2">Parachutist</option>
                <option value="3">Skydiver</option>
                <option Value="-1">Custom</option>
              </select>
            </div>

            <div class="data-row input-group-sm">
              <div class="data-name">Drag Coefficient = </div>
              <input type="text" class="form-control data-value" id="dragCoeff" value="0.5">
              <div class="data-metric"></div>
            </div>
            
            <div class="data-row input-group-sm">
              <div class="data-name">Mass = </div>
              <input type="text" class="form-control data-value" id="mass" value="0.75">
              <div class="data-metric">kg</div>
            </div>
    
            <div class="data-row input-group-sm">
              <div class="data-name">Cross-Sectional Area = </div>
              <input type="text" class="form-control data-value" id="area" value="0.147">
              <div class="data-metric">m<sup>2</sup></div>
            </div>
          </div>

        </div>

        <div class="data-area" id="output-variables">
          <div class="data-row">
            <div class="data-name">Force of Gravity = </div>
            <div class="data-value" id="GForce">0</div>
            <div class="data-metric">N</div>
          </div>
          
          <div class="data-row">
            <div class="data-name">Drag Force = </div>
            <div class="data-value" id="HDrag">0</div>
            <div class="data-metric">N</div>
          </div>
  
          <div class="data-row">
            <div class="data-name">Velocity = </div>
            <div class="data-value" id="HVelocity">0</div>
            <div class="data-metric">m/s</div>
          </div>
  
          <div class="data-row">
            <div class="data-name">Height = </div>
            <div class="data-value" id="HHeight">0</div>
            <div class="data-metric">m</div>
          </div>
  
          <div class="data-row">
            <div class="data-name">Acceleration = </div>
            <div class="data-value" id="HAcceleration">0</div>
            <div class="data-metric">(m/s<sup>2</sup>)</div>
          </div>
  
          
  
        </div>

      </div>

    </div>
       
    <div id="image-area">
  
      <div id="object-fall-area">
        <img src="../img/ball.png" id="objImage" />
        <img src="../img/monument1.png" id="structureImage" />
        
        <!-- <div class = "speed-row" id = "speedControl">
          <div class="data-name">Play speed: </div>
          <input type="text" class="form-control data-value" id="playspeed" value="1">
        </div > -->
        <div class="slidecontainer">
          <div>Animation Speed: <span id = "speed-display">1</span></div> 
          <input type="range" min="0.1" max="4" step="0.1" value="1" class="slider" id="slider">
        </div>
      </div>
  
      <div id="plot">
      </div>

      
    
    </div>

  </div>

  <!-- Modals -->
  <div class="modal fade" id="directionsModal" tabindex="-1" role="dialog" aria-labelledby="directionsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="directionsModalLabel">Directions</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Block structure -->
          <!-- $$
            \Phi = 1
          $$ -->
          <!-- Inline structure -->
          <!-- \( \frac{1}{2} \) -->

           <p>Choose objects for simulation through the dropdown menu. For custom object, select "custom"
           and then enter the physical properties. </p>
              
           <p>The simulation speed can be adjusted by entering a positive number in the "Play Speed" box.</p>
           <p>For the "skydiver" simulation, "height" indicates the distance from the jumping point. </p>
           

        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="detailsModal" tabindex="-1" role="dialog" aria-labelledby="detailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="detailsModalLabel">Details</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- <p><b>On calculation</b></p> -->
          <p>The equation for drag force calculation is:
            $$F_D = \frac{C_D \rho V^2 A}{2}$$
            Where \( C_D \) is the drag coefficient. \( \rho \) is the desity of 
            surrounding fluid. In our case, it is \( \rho _{air} = 1.23\) \(kg/m^3\). \( A \) is the cross-sectional 
            area of the object. \( V \) is the velocity of the object.
          </p>

          <p>In the equation above, velocity is not a constant value. The acceleraion of the object is affected by the 
            graviational force and the drag force, which means it is a system of differential equations. In this simulation,
           the system is solved iteratively using a time gap of 0.001 second. </p>

          
          <p>A FIFA standard soccer ball have circumference of between 68 cm and 70 cm. It  should weight between 410 g and 450 g. </p>
          <p>The parachutist was assumed to weight 75 kg without the parachute. The parachute for reference is a <a href="http://www.paragear.com/skydiving/10000220/C88/PRECISION-AERODYNAMICS-FALCON-MAIN-PARACHUTE">Falcon 265</a> parachute, which 
          has a area of 265 ft<sup>2</sup> and a weight of 11 lbs.  </p>

          
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="aboutModalLabel">About</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>This simulation was created in the Department of Chemical and
             Biological Engineering, University of Colorado Boulder for LearnChemE.com
              by Mingyuan Lu and Neil Hendren under the direction of Professor
               John L. Falconer. Address any questions or comments to
                learncheme@gmail.com.
          </p>
          <P>The photo used in skydiver simulation is <span>Photo by <a href="https://unsplash.com/@taylorvanriper925?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Taylor Van Riper</a> on <a href="https://unsplash.com/s/photos/sky?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></P>
          <p>Physical data for skydiver simulation is acquired from the paper: <br>Landell-Mills N. (2017). <i>Buoyancy Explains Terminal Velocity in Skydiving</i>.</p>
        </div>
      </div>
    </div>
  </div>

  <script src="../js/initializePlot.js"></script>
  <script src="../js/main.js"></script>
  <script src="../js/calculation.js"></script>

</body>

</html>