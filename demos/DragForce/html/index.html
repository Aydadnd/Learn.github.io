<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drag Force Simulation</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../style/bootstrap.min.css">

  <!-- Main style sheet -->
  <link rel="stylesheet" href="../style/style.css">

  <!-- Bootstrap dependencies -->
  <script src="../js/popper.js"></script>
  <script src="../js/jquery.js"></script>

  <!-- Bootstrap JS -->
  <script src="../js/bootstrap.min.js"></script>

  <!-- Flot library for plotting stuff http://www.flotcharts.org/ -->
  <script src="../js/jquery.flot.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body onload = "loadAxes()">

  <div id="app">

    <div id="controls-area">

      <div id="top-controls-row">
        <div id="modal-buttons">
          <div id="dir" class="btn btn-primary" data-toggle="modal" data-target="#directionsModal">Directions</div>
          <div id="detail" class="btn btn-primary" data-toggle="modal" data-target="#detailsModal">Details</div>
          <div id="about" class="btn btn-primary" data-toggle="modal" data-target="#aboutModal">About</div>
        </div>

        <div id="other-buttons">
          <div id="start-pause-button" class="btn btn-success">Start</div>
          <div id="reset-button" class="btn btn-danger">Reset</div>
         
        </div>
      </div>

      <div id="bottom-controls-row">
                
        <div id="variables-stack" >

          <div class="data-area" id="input-variables">

            <div class="input-row">
              <div class="data-name">Drag Coefficient</div>
              <!-- The slider is the natural logarithm of the value, so the initial value must be ln(0.50) -->
              <input type="range" id="dragCoeff" min="-4" max="3" step="0.01" value="-0.6931471805599453">
              <div class="data-value" id="cdValue">0.50</div>
              <div class="data-metric"></div>
            </div>
            
            <div class="input-row">
              <div class="data-name">Mass</div>
              <!-- The slider is the natural logarithm of the value, so the initial value must be ln(0.41) -->
              <input type="range" id="mass" min="-3" max="5" step="0.01" value="-0.8915981192837836">
              <div class="data-value" id="massValue">0.41</div>
              <div class="data-metric">kg</div>
            </div>
    
            <div class="input-row">
              <div class="data-name">Cross-Sectional Area</div>
              <!-- The slider is the natural logarithm of the value, so the initial value must be ln(0.15) -->
              <input type="range" id="area" min="-3" max="4" step="0.01" value="-1.8971199848858813">

              <div class="data-value" id="areaValue">0.15</div>
              <div class="data-metric">m<sup>2</sup></div>
            </div>

            <div class="select-row">
              <div>Object</div>
              <select id="object-selection"  style="width: 130px; font-size: 13px;">
                <option value="1">Soccer ball</option>
                <option value="2">Parachutist</option>
                <option value="3">Skydiver</option>
                <option Value="-1">Custom</option>
              </select>
            </div>
          </div>

        </div>

        <div class="data-area" id="output-variables">
          <div class="data-row">
            <div class="data-name">Force of Gravity = </div>
            <div class="data-value" id="GForce">0</div>
            <div class="data-metric">N</div>
          </div>
          
          <div class="data-row">
            <div class="data-name">Drag Force = </div>
            <div class="data-value" id="HDrag">0</div>
            <div class="data-metric">N</div>
          </div>
  
          <div class="data-row">
            <div class="data-name">Velocity = </div>
            <div class="data-value" id="HVelocity">0</div>
            <div class="data-metric">m/s</div>
          </div>
  
          <div class="data-row">
            <div class="data-name">Height = </div>
            <div class="data-value" id="HHeight">0</div>
            <div class="data-metric">m</div>
          </div>
  
          <div class="data-row">
            <div class="data-name">Acceleration = </div>
            <div class="data-value" id="HAcceleration">0</div>
            <div class="data-metric">(m/s<sup>2</sup>)</div>
          </div>
  
          
  
        </div>

      </div>

    </div>
       
    <div id="image-area">
  
      <div id="object-fall-area">
        <img src="../img/ball.png" id="objImage" />
        <img src="../img/monument1.png" id="structureImage" />
        
        <!-- <div class = "speed-row" id = "speedControl">
          <div class="data-name">Play speed: </div>
          <input type="text" class=" data-value" id="playspeed" value="1">
        </div > -->
        <div class="slidecontainer">
          <div>Animation Speed: <span id = "speed-display">1</span></div> 
          <input type="range" min="0.1" max="4" step="0.1" value="1" class="slider" id="slider">
        </div>
      </div>
  
      <div id="plot">
      </div>

      
    
    </div>

  </div>

  <!-- Modals -->
  <div class="modal fade" id="directionsModal" tabindex="-1" role="dialog" aria-labelledby="directionsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="directionsModalLabel">Directions</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- Block structure -->
          <!-- $$
            \Phi = 1
          $$ -->
          <!-- Inline structure -->
          <!-- \( \frac{1}{2} \) -->

           <p>This simulation calculates the velocity of falling objects 
             as a function of time.  One of three objects or "Custom" can be selected 
             from the dropdown menu. When "Custom" is selected, the drag coefficient, 
             mass, and cross-sectional area can be independently selected. The play 
             speed can be selected; selecting 1 corresponds to real time. The velocity 
             is plotted versus time until the object hits the ground or until the 
             skydiver has dropped 1500 m. For all objects except the skydiver, height 
             is distance above the ground. For the skydiver, height is the distance from 
             the jump point. The drag force and velocity increase, and the acceleration 
             decreases until terminal velocity is reached, where the force of gravity 
             equals the drag force. Select Details for more information, including the 
             equations used.
          </p>
              
           
           

        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="detailsModal" tabindex="-1" role="dialog" aria-labelledby="detailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        
        <div class="modal-header">
          <h5 class="modal-title" id="detailsModalLabel">Details</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        
        <div class="modal-body">
          
          <div class="modal-text">
            The equation for drag force is:
          </div>
          
          <div class="modal-equation">
            $$
            F_D = \frac{C_D \rho_{air} V^2 A}{2}
            $$
          </div>
          
          <div class="modal-text">
            Where \( C_D \) is the drag coefficient, \( \rho_{air} \) is the density of air ( 1.23 kg/m<sup>3</sup> ), \( A \) is the cross-sectional area of the object, and \( V \) is its velocity ( \( V=-dY/dt \), where \( Y \) is height).
          </div>

          <div class="modal-text">
            Drag is subtracted from gravitational acceleration ( \( g \) ) to give net acceleration:
          </div>
          
          <div class="modal-equation">
            $$
            \frac{ dV }{ dt } = g - \frac{ F_{D} }{ m }
            $$
          </div>
          
          <div class="modal-text">
            where \( m \) is the object's mass. In this simulation, velocity and height were calculated using Euler's Method of numerical integration, with initial conditions for height \( Y(0) = Y_{0} \) and velocity \( V(0) = 0 \). However, an analytical solution exists to find velocity \( V(t) \) and height \( Y(t) \) as functions of time.
          </div>
          
          <div class="modal-equation">
            $$
            V(t) = \mathrm{ tanh } \left( \sqrt{ \frac{ A C_{D} g \rho_{air} }{ 2 m } } t \right) \sqrt{ \frac{ 2 g m }{ A C_{D} \rho_{air} } }
            $$

          </div>
          
          <div class="modal-equation">
            $$
            Y(t) = Y_0 - \frac{ 2 m }{ A C_{D} \rho_{air} }\mathrm{ ln } \left[ \mathrm{ cosh } \left( \sqrt{ \frac{ A C_{D} g \rho_{air} }{ 2 m } t } \right) \right]
            $$

          </div>
         
          <div class="modal-text">
           A FIFA standard soccer ball has a circumference of 0.69 &#x00B1; 0.01 m and mass of 0.43 &#x00B1; 0.02 kg. The parachutist (without the parachute) was assumed to weigh 75 kg. The parachute used for reference is a <a href="http://www.paragear.com/skydiving/10000220/C88/PRECISION-AERODYNAMICS-FALCON-MAIN-PARACHUTE">Falcon 265</a> parachute, which 
            has an area of 24.6 m<sup>2</sup> and mass of 5 kg.
          </div>
        
        </div>

      </div>
    </div>
  </div>

  <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="aboutModalLabel">About</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>This simulation was created in the Department of Chemical and
             Biological Engineering, University of Colorado Boulder for LearnChemE.com
              by Mingyuan Lu and Neil Hendren under the direction of Professor
               John L. Falconer. Address any questions or comments to
                learncheme@gmail.com. The source code for this and other browser based simulation can be found
                 at <a href = "https://github.com/LearnChemE/LearnChemE.github.io">LearnChemE</a> GitHub repository. 
          </p>
          
          <p>Photo and clip art credits:<br>
              Photo of Washinton Monument: Photo by Mingyuan Lu <br>
              Soccer ball clip art: <span><a href="https://freesvg.org/by/OpenClipart">OpenClipart</a> SVG ID: 179345 </span><br>
              Photo of sky: <span>Photo by <a href="https://unsplash.com/@taylorva
                nriper925?utm_source=unsplash&amp;utm_medium=referral&amp;utm_cont
                ent=creditCopyText">Taylor Van Riper</a> on <a href="https://unspla
                sh.com/s/photos/sky?utm_source=unsplash&amp;utm_medium=referral&amp;
                utm_content=creditCopyText">Unsplash</a></span> <br>
              

          </p>
          
          <p>Physical data for skydiver simulation is acquired from:
            Mills N, Landell. 2017. “Buoyancy Explains Terminal Velocity in Skydiving.” 
            <i>Journal of Aeronautics & Aerospace Engineering</i> 06(02). DOI: 10.4172/2168-9792.1000189</p>
        </div>
      </div>
    </div>
  </div>

  <script src="../js/initializePlot.js"></script>
  <script src="../js/main.js"></script>
  <script src="../js/calculation.js"></script>

</body>

</html>