function preload(){iHat=loadImage("https://learncheme.github.io/media/iHatWhite.png"),jHat=loadImage("https://learncheme.github.io/media/jHatWhite.png"),kHat=loadImage("https://learncheme.github.io/media/kHatWhite.png"),uvec=loadImage("https://learncheme.github.io/media/uvec.png"),vvec=loadImage("https://learncheme.github.io/media/vvec.png"),uxvvec=loadImage("https://learncheme.github.io/media/uxvvec.png"),myFont=loadFont("Helvetica.otf")}function zoom(t){let e=.05,s=cnv.height;t.deltaY>0?cnv._curCamera._orbit(0,0,e*s):cnv._curCamera._orbit(0,0,-e*s)}function setup(){"cross product"!=page?(cnv=createCanvas(pageWidth,pageHeight,P2D),cnv.parent("canvas"),$("#dotProductDiv").width(pageWidth-margins+"px"),$("#dotProductDiv").height(pageHeight-margins+"px"),$("#dotProductDiv").hide(),basePlot2D=new GPlot(this),ops=new options,ops.gPlot=basePlot2D,ops.defaultPlot(),extraCanvas=createGraphics(pageWidth,pageHeight),background(220),plotdraw2D=new drawing,plotdraw2D.gPlot=basePlot2D,options.defaultSidebar(),crossVectorCheckbox.hide(),normPlaneCheckbox.hide(),xyMin=getCoords(-xAxisLimit,-yAxisLimit,basePlot2D),xyMax=getCoords(xAxisLimit,yAxisLimit,basePlot2D),reInitialize()):(cnv=createCanvas(pageWidth,pageHeight,WEBGL),cnv.parent("canvas"),cnv.mouseWheel(zoom),textFont(myFont),textSize(2*rem),options.defaultSidebar(),resizeCanvas(pageWidth-100,pageHeight),$("#dotProductDiv").hide(),newVectorButton.hide(),sumVectorButton.hide(),resetVectorsButton.hide(),normPlaneCheckbox.show(),selectOptions.position(width+10,40+cnvOffset),normalMaterial(),ambientMaterial(39,235,91),camera(200,-300,height/1.5/tan(30*PI/180),0,0,0,0,1,0),QuickSettings.useExtStyleSheet(),guiU=createGui("$$\\vec{u}$$",width+10,145+cnvOffset,"uGUI"),guiU.newSlider("x1",-4,4,1,.1,"x-component: ",' <img class="guiImgI" src="../../media/iHat.png"></img>'),guiU.newSlider("y1",-4,4,1,.1,"y-component: ",' <img class="guiImgJ" src="../../media/jHat.png"></img>'),guiU.newSlider("z1",-4,4,1,.1,"z-component: ",' <img class="guiImgK" src="../../media/kHat.png"></img>'),guiV=createGui("$$\\vec{v}$$",width+10,360+cnvOffset,"vGUI"),guiV.newSlider("x2",-4,4,1,.1,"x-component: ",' <img class="guiImgI" src="../../media/iHat.png"></img>'),guiV.newSlider("y2",-4,4,1,.1,"y-component: ",' <img class="guiImgJ" src="../../media/jHat.png"></img>'),guiV.newSlider("z2",-4,4,1,.1,"z-component: ",' <img class="guiImgK" src="../../media/kHat.png"></img>'),$("#vectorLATEX").css({height:"6rem"}),$(".vecAdd").toggleClass("show active",!1),$(".vectorAdditionTab").toggleClass("active",!1),$(".scalarMult").toggleClass("show active",!1),$(".scalarMultiplicationTab").toggleClass("active",!1),$(".dotProd").toggleClass("show active",!1),$(".dotProductTab").toggleClass("active",!1),$(".crossProd").toggleClass("show active",!0),$(".crossProductTab").toggleClass("active",!0),MathJax.Hub.Queue(["Typeset",MathJax.Hub]),loop(),$("#defaultCanvas0").css({outline:"1px solid black",transform:"translateX(2px)"}))}function sanitize(t){let e=/^[-]?((\d+(\.\d*)?)|(\.\d+))$/g,s=t.value;if(!s.match(e)){s=s.replace(/[^0-9.-]/g,"");let e=0;s=s.replace(/\./g,function(t){return e++,e>=2?"":t}),e=0,s=s.match(/^[^\-].*/)?s.replace(/\-/g,""):s.replace(/\-/g,function(t){return e++,e>=2?"":t}),t.value=s}s.includes("-")&&"."==s.charAt(3)?t.value=s.slice(0,5):s.length>4&&(t.value=s.slice(0,4)),s.includes("-")||"."==s.charAt(2)||(t.value=s.slice(0,3)),isNaN(parseFloat(Number(t.value)))||(dot.v1[0]=parseFloat(Number(dotInput.i1.value).toFixed(1)),dot.v1[1]=parseFloat(Number(dotInput.j1.value).toFixed(1)),dot.v1[2]=parseFloat(Number(dotInput.k1.value).toFixed(1)),dot.v2[0]=parseFloat(Number(dotInput.i2.value).toFixed(1)),dot.v2[1]=parseFloat(Number(dotInput.j2.value).toFixed(1)),dot.v2[2]=parseFloat(Number(dotInput.k2.value).toFixed(1)))}function reInitialize(){switch(sessionStorage.setItem("pageVal",selectOptions.value()),"cross product"!=page&&"cross product"!=selectOptions.value()||location.reload(),page=selectOptions.value(),page){case"vector addition":$("#dotProductDiv").hide(),dpResetButton.hide(),dotProductButton.hide(),$("#vectorLATEX").css({height:"5rem"}),$(".vecAdd").toggleClass("show active",!0),$(".vectorAdditionTab").toggleClass("active",!0),$(".scalarMult").toggleClass("show active",!1),$(".scalarMultiplicationTab").toggleClass("active",!1),$(".dotProd").toggleClass("show active",!1),$(".dotProductTab").toggleClass("active",!1),$(".crossProd").toggleClass("show active",!1),$(".crossProductTab").toggleClass("active",!1),resetVectorsButton.show(),newVectorButton.show(),sumVectorButton.show(),gui2D.hide();break;case"scalar multiplication":reset(),$("#dotProductDiv").hide(),dpResetButton.hide(),dotProductButton.hide(),$("#vectorLATEX").css({height:"5rem"}),$(".vecAdd").toggleClass("show active",!1),$(".vectorAdditionTab").toggleClass("active",!1),$(".scalarMult").toggleClass("show active",!0),$(".scalarMultiplicationTab").toggleClass("active",!0),$(".dotProd").toggleClass("show active",!1),$(".dotProductTab").toggleClass("active",!1),$(".crossProd").toggleClass("show active",!1),$(".crossProductTab").toggleClass("active",!1),scalar.limit=1,pts[0]=getCoords(0,0,basePlot2D),pts[1]=getCoords(1,0,basePlot2D),resetVectorsButton.hide(),newVectorButton.hide(),sumVectorButton.hide(),gui2D.show();break;case"dot product":resetVectorsButton.hide(),newVectorButton.hide(),sumVectorButton.hide(),gui2D.hide(),$("#vectorLATEX").css({height:"6rem"}),$(".vecAdd").toggleClass("show active",!1),$(".vectorAdditionTab").toggleClass("active",!1),$(".scalarMult").toggleClass("show active",!1),$(".scalarMultiplicationTab").toggleClass("active",!1),$(".dotProd").toggleClass("show active",!0),$(".dotProductTab").toggleClass("active",!0),$(".crossProd").toggleClass("show active",!1),$(".crossProductTab").toggleClass("active",!1),$("#dotProductDiv").show(),dpResetButton.show(),dotProductButton.show(),dot.reset();break;case"cross product":$("#dotProductDiv").hide(),dpResetButton.hide(),dotProductButton.hide(),gui2D.hide(),twoDimension=!1,newVectorButton.hide(),sumVectorButton.hide(),crossVectorCheckbox.show(),setup(),selectOptions.value("cross product")}}function reset(){for(;n>2;)pts.pop(),n--;vSum[0]=0,vSum[1]=0,sumPressed=!1}function mySelectEvent(){drawCross=crossVectorCheckbox.checked(),drawNormalPlane=normPlaneCheckbox.checked(),mouseReleased()}function newVector(){if(n<5&&!sumPressed){pts.push([random(xyMin[0],xyMax[0]),random(xyMin[1],xyMax[1])]);let t=new Array(n).fill(0),e=!0,s=0;for(;e;){for(e=!1,i=0;i<n;i++)if(t[i]=abs(Math.sqrt(Math.pow(pts[i][0]-pts[n][0],2)+Math.pow(pts[i][1]-pts[n][1],2))),t[i]<200){pts[n]=[random(xyMin[0],xyMax[0]),random(xyMin[1],xyMax[1])],e=!0;break}if(s>10)break;s++}graphicsOffset.push([1,1]),n+=1}}function sumVector(){if(n>2&&!sumPressed){for(vSumCoords[0]=pts[0],vSumCoords[1]=pts[n-1],i=0;i<n-1;i++)vSum[0]+=Number((ptCoords[i+1][0]-ptCoords[i][0]).toFixed(1)),vSum[1]+=Number((ptCoords[i+1][1]-ptCoords[i][1]).toFixed(1));sumPressed=!0}}function loc(t,e,s){return s.getValueAt(t,e)}function getCoords(t,e,s){return s.getScreenPosAtValue(t,e)}function DrawArrows(t){for(j=0;j<n-1;j++)drawArrows[j+1]&&(this.parentLayer=t,this.parentLayer.push(),this.parentLayer.strokeWeight(3),this.parentLayer.stroke(255,30,30),this.parentLayer.line(pts[j][0]-10*graphicsOffset[j][0],pts[j][1],pts[j+1][0]+2*graphicsOffset[j][0],pts[j][1]),this.parentLayer.fill(255,30,30),this.parentLayer.triangle(pts[j+1][0]+2*graphicsOffset[j][0],pts[j][1],pts[j+1][0]+8*graphicsOffset[j][0],pts[j][1]+3,pts[j+1][0]+8*graphicsOffset[j][0],pts[j][1]-3),this.parentLayer.tint(255,50,50),this.parentLayer.image(iHat,.5*pts[j][0]+.5*pts[j+1][0]-30,pts[j][1]-20-30*graphicsOffset[j][1],.09*iHat.width,.12*iHat.height),this.parentLayer.fill(255,30,30),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.textAlign(LEFT),this.parentLayer.text("= ".concat((ptCoords[j+1][0]-ptCoords[j][0]).toFixed(1)),.5*pts[j][0]+.5*pts[j+1][0]-30+.2*iHat.width,pts[j][1]-20-30*graphicsOffset[j][1]+.12*iHat.height),this.parentLayer.pop(),this.parentLayer.push(),this.parentLayer.strokeWeight(3),this.parentLayer.stroke(30,30,255),this.parentLayer.line(pts[j+1][0],pts[j][1]+4*graphicsOffset[j][1],pts[j+1][0],pts[j+1][1]-6*graphicsOffset[j][1]),this.parentLayer.fill(30,30,255),this.parentLayer.triangle(pts[j+1][0],pts[j+1][1]-4*graphicsOffset[j][1],pts[j+1][0]+3,pts[j+1][1]-10*graphicsOffset[j][1],pts[j+1][0]-3,pts[j+1][1]-10*graphicsOffset[j][1]),this.parentLayer.tint(50,50,255),this.parentLayer.image(jHat,pts[j+1][0]-35-50*graphicsOffset[j][0],.5*pts[j][1]+.5*pts[j+1][1],.11*jHat.width,.12*jHat.height),this.parentLayer.fill(30,30,255),this.parentLayer.textAlign(LEFT),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.text("= ".concat((ptCoords[j+1][1]-ptCoords[j][1]).toFixed(1)),pts[j+1][0]-35-50*graphicsOffset[j][0]+.2*jHat.width,.5*pts[j][1]+.5*pts[j+1][1]+.1*jHat.height),this.parentLayer.pop());sumPressed&&drawArrows[n+1]&&(this.parentLayer=t,this.parentLayer.push(),this.parentLayer.strokeWeight(3),this.parentLayer.stroke(255,30,30),this.parentLayer.line(pts[0][0]-10*graphicsOffset[n][0],pts[0][1],pts[n-1][0]+2*graphicsOffset[n][0],pts[0][1]),this.parentLayer.fill(255,30,30),this.parentLayer.triangle(pts[n-1][0]+2*graphicsOffset[n][0],pts[0][1],pts[n-1][0]+8*graphicsOffset[n][0],pts[0][1]+3,pts[n-1][0]+8*graphicsOffset[n][0],pts[0][1]-3),this.parentLayer.tint(255,50,50),this.parentLayer.image(iHat,.5*pts[0][0]+.5*pts[n-1][0]-30,pts[0][1]-20-30*graphicsOffset[n][1],.09*iHat.width,.12*iHat.height),this.parentLayer.fill(255,30,30),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.textAlign(LEFT),this.parentLayer.text("= ".concat((ptCoords[n-1][0]-ptCoords[0][0]).toFixed(1)),.5*pts[0][0]+.5*pts[n-1][0]-30+.2*iHat.width,pts[0][1]-20-30*graphicsOffset[n][1]+.12*iHat.height),this.parentLayer.pop(),this.parentLayer.push(),this.parentLayer.strokeWeight(3),this.parentLayer.stroke(30,30,255),this.parentLayer.line(pts[n-1][0],pts[0][1]+4*graphicsOffset[n][1],pts[n-1][0],pts[n-1][1]-6*graphicsOffset[n][1]),this.parentLayer.fill(30,30,255),this.parentLayer.triangle(pts[n-1][0],pts[n-1][1]-4*graphicsOffset[n][1],pts[n-1][0]+3,pts[n-1][1]-10*graphicsOffset[n][1],pts[n-1][0]-3,pts[n-1][1]-10*graphicsOffset[n][1]),this.parentLayer.tint(50,50,255),this.parentLayer.image(jHat,pts[n-1][0]-35-50*graphicsOffset[n][0],.5*pts[0][1]+.5*pts[n-1][1],.11*jHat.width,.12*jHat.height),this.parentLayer.fill(30,30,255),this.parentLayer.textAlign(LEFT),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.text("= ".concat((ptCoords[n-1][1]-ptCoords[0][1]).toFixed(1)),pts[n-1][0]-35-50*graphicsOffset[n][0]+.2*jHat.width,.5*pts[0][1]+.5*pts[n-1][1]+.1*jHat.height),this.parentLayer.pop())}function DrawCoords(t){for(this.parentLayer=t,j=0;j<n;j++){if(this.parentLayer.push(),0==j){let t=atan2(pts[j][1]-pts[j+1][1],pts[j][0]-pts[j+1][0]);void 0===offset[j]?offset.push(p5.Vector.fromAngle(t,50)):"object"==typeof offset[j]&&(offset[j]=p5.Vector.fromAngle(t,50))}else if(j<n-1){let t=(pts[j+1][0]+pts[j-1][0])/2,e=(pts[j+1][1]+pts[j-1][1])/2,s=atan2(pts[j][1]-e,pts[j][0]-t);void 0===offset[j]?offset.push(p5.Vector.fromAngle(s,50)):"object"==typeof offset[j]&&(offset[j]=p5.Vector.fromAngle(s,50))}else if(j==n-1){let t=atan2(pts[j][1]-pts[j-1][1],pts[j][0]-pts[j-1][0]);void 0===offset[j]?offset.push(p5.Vector.fromAngle(t,50)):"object"==typeof offset[j]&&(offset[j]=p5.Vector.fromAngle(t,50))}(rolloverPt[0]&&rolloverPt[1]==j||draggingPt[0]&&draggingPt[1]==j)&&(this.parentLayer.textAlign(CENTER),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.fill(0),this.parentLayer.text("(".concat(ptCoords[j][0].toFixed(1),", ",ptCoords[j][1].toFixed(1),")"),pts[j][0]+offset[j].x,pts[j][1]+offset[j].y),this.parentLayer.pop())}}function DrawVectorText(t){for(this.parentLayer=t,j=0;j<n-1;j++){let t,e=atan2(pts[j][1]-pts[j+1][1],pts[j][0]-pts[j+1][0]);(e>PI/2||e<-PI/2)&&(e+=-PI),this.parentLayer.push(),this.parentLayer.textAlign(CENTER),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.fill(0),this.parentLayer.translate((pts[j][0]+pts[j+1][0])/2,(pts[j][1]+pts[j+1][1])/2),this.parentLayer.rotate(e),t=ptCoords[j+1][1]-ptCoords[j][1]>0?"+ ":"- ",this.parentLayer.text("".concat((ptCoords[j+1][0]-ptCoords[j][0]).toFixed(1)," î ",t,abs(ptCoords[j+1][1]-ptCoords[j][1]).toFixed(1)," ĵ"),0,-10),this.parentLayer.pop()}if(sumPressed){let t,e=atan2(vSum[1],-vSum[0]);(e>PI/2||e<-PI/2)&&(e+=-PI),this.parentLayer.push(),this.parentLayer.textAlign(CENTER),this.parentLayer.textSize(1*rem),this.parentLayer.noStroke(),this.parentLayer.fill(0),this.parentLayer.translate((pts[0][0]+pts[n-1][0])/2,(pts[0][1]+pts[n-1][1])/2),this.parentLayer.rotate(e),t=vSum[1]>=0?"+ ":"- ",this.parentLayer.text("".concat(vSum[0].toFixed(1)," i ",t,abs(vSum[1]).toFixed(1)," j"),0,-10),this.parentLayer.pop()}}function MovePoints(t){this.parentLayer=t,rolloverPt[0]=!1,rolloverLine[0]=!1;let e=0,s=0;if(sumPressed){let t=new Between(mouseX,pts[n-1][0],pts[0][0]),e=new Between(mouseY,pts[n-1][1],pts[0][1]);abs(t.diff())>abs(e.diff())?t.isBetween&&abs(mouseY-e.a-t.interp()*e.diff())<10?drawArrows[n+1]=!0:drawArrows[n+1]=!1:e.isBetween&&abs(mouseX-t.a-e.interp()*t.diff())<10?drawArrows[n+1]=!0:drawArrows[n+1]=!1,pts[0][0]<pts[n-1][0]?graphicsOffset[n][0]=-1:graphicsOffset[n][0]=1,pts[0][1]<pts[n-1][1]?graphicsOffset[n][1]=1:graphicsOffset[n][1]=-1}else for(j=0;j<n;j++){if(0==j?(e=0,s=0):(e=-10*(pts[j][0]-pts[j-1][0])/Math.sqrt(Math.pow(pts[j][0]-pts[j-1][0],2)+Math.pow(pts[j][1]-pts[j-1][1],2)),s=-10*(pts[j][1]-pts[j-1][1])/Math.sqrt(Math.pow(pts[j][0]-pts[j-1][0],2)+Math.pow(pts[j][1]-pts[j-1][1],2))),mouseX>pts[j][0]+e-r&&mouseX<pts[j][0]+e+r&&mouseY>pts[j][1]+s-r&&mouseY<pts[j][1]+s+r&&(rolloverPt[0]=!0,rolloverPt[1]=j),j>0){let t=new Between(mouseX,pts[j][0],pts[j-1][0]),e=new Between(mouseY,pts[j][1],pts[j-1][1]);abs(t.diff())>abs(e.diff())?t.isBetween&&abs(mouseY-e.a-t.interp()*e.diff())<10&&!rolloverPt[0]&&!draggingPt[0]?drawArrows[j]=!0:drawArrows[j]=!1:e.isBetween&&abs(mouseX-t.a-e.interp()*t.diff())<10&&!rolloverPt[0]&&!draggingPt[0]?drawArrows[j]=!0:drawArrows[j]=!1}let t=loc(pts[j][0],pts[j][1],basePlot2D);ptCoords[j]=[Math.round(10*t[0])/10,Math.round(10*t[1])/10],j>0&&(pts[j-1][0]<pts[j][0]?graphicsOffset[j-1][0]=-1:graphicsOffset[j-1][0]=1,pts[j-1][1]<pts[j][1]?graphicsOffset[j-1][1]=1:graphicsOffset[j-1][1]=-1),j==n-1&&(pts[j][0]>pts[j-1][0]?graphicsOffset[j][0]=1:graphicsOffset[j][0]=-1,pts[j][1]>pts[j-1][1]?graphicsOffset[j][1]=1:graphicsOffset[j][1]=-1)}draggingPt[0]&&("scalar multiplication"==page?0!=draggingPt[1]&&(pts[draggingPt[1]]=[mouseX+mouseOffset[0],mouseY+mouseOffset[1]],pts[draggingPt[1]][0]=Math.max(pts[draggingPt[1]][0],xyMin[0]),pts[draggingPt[1]][0]=Math.min(pts[draggingPt[1]][0],xyMax[0]),pts[draggingPt[1]][1]=Math.min(pts[draggingPt[1]][1],xyMin[1]),pts[draggingPt[1]][1]=Math.max(pts[draggingPt[1]][1],xyMax[1]),scalar.Multiplied&&(scalar.pxList=[],scalar.valList=[],scalar.Multiplied=!1)):(pts[draggingPt[1]]=[mouseX+mouseOffset[0],mouseY+mouseOffset[1]],pts[draggingPt[1]][0]=Math.max(pts[draggingPt[1]][0],xyMin[0]),pts[draggingPt[1]][0]=Math.min(pts[draggingPt[1]][0],xyMax[0]),pts[draggingPt[1]][1]=Math.min(pts[draggingPt[1]][1],xyMin[1]),pts[draggingPt[1]][1]=Math.max(pts[draggingPt[1]][1],xyMax[1])))}function DrawVectors(t){function e(t){this.x=t,sumPressed?this.parentLayer.fill(50,20):draggingPt[0]&&draggingPt[1]==this.x?this.parentLayer.fill(50):rolloverPt[0]&&rolloverPt[1]==this.x?this.parentLayer.fill(100):this.parentLayer.fill(175,100)}for(this.parentLayer=t,sumPressed&&this.parentLayer.stroke(0,50),j=0;j<n-1;j++)this.parentLayer.push(),this.parentLayer.strokeWeight(5),this.parentLayer.translate(pts[j][0],pts[j][1]),this.parentLayer.rotate(atan2(pts[j+1][0]-pts[j][0],pts[j][1]-pts[j+1][1])),this.parentLayer.line(0,0,0,22-Math.sqrt(Math.pow(pts[j+1][0]-pts[j][0],2)+Math.pow(pts[j+1][1]-pts[j][1],2))),this.parentLayer.pop(),this.parentLayer.push(),e(j+1),this.parentLayer.translate(pts[j+1][0],pts[j+1][1]),this.parentLayer.rotate(atan2(pts[j+1][0]-pts[j][0],pts[j][1]-pts[j+1][1])),this.parentLayer.strokeWeight(3),this.parentLayer.triangle(0,0,7,20,-7,20),this.parentLayer.pop();if("vector addition"==page&&(this.parentLayer.push(),e(0),this.parentLayer.circle(pts[0][0],pts[0][1],r),this.parentLayer.pop()),sumPressed&&(this.parentLayer.push(),this.parentLayer.stroke(0),this.parentLayer.strokeWeight(5),this.parentLayer.translate(vSumCoords[0][0],vSumCoords[0][1]),this.parentLayer.rotate(atan2(vSumCoords[1][0]-vSumCoords[0][0],vSumCoords[0][1]-vSumCoords[1][1])),this.parentLayer.line(0,0,0,22-Math.sqrt(Math.pow(vSumCoords[1][0]-vSumCoords[0][0],2)+Math.pow(vSumCoords[1][1]-vSumCoords[0][1],2))),this.parentLayer.pop(),this.parentLayer.push(),this.parentLayer.stroke(0),this.parentLayer.fill(200),this.parentLayer.translate(vSumCoords[1][0],vSumCoords[1][1]),this.parentLayer.rotate(atan2(vSumCoords[1][0]-vSumCoords[0][0],vSumCoords[0][1]-vSumCoords[1][1])),this.parentLayer.strokeWeight(3),this.parentLayer.triangle(0,0,7,20,-7,20),this.parentLayer.pop()),"scalar multiplication"==page&&scalar.Multiplied&&scalar.pxList.length>=1)for(j=scalar.pxList.length-1;j>0;j--)this.parentLayer.push(),this.parentLayer.strokeWeight(5),this.parentLayer.stroke(120,120,255,180),this.parentLayer.translate(scalar.pxList[0][0],scalar.pxList[0][1]),this.parentLayer.rotate(atan2(scalar.pxList[j][0]-scalar.pxList[0][0],scalar.pxList[0][1]-scalar.pxList[j][1])),this.parentLayer.line(0,0,0,22-Math.sqrt(Math.pow(scalar.pxList[j][0]-scalar.pxList[0][0],2)+Math.pow(scalar.pxList[j][1]-scalar.pxList[0][1],2))),this.parentLayer.pop(),this.parentLayer.push(),this.parentLayer.translate(scalar.pxList[j][0],scalar.pxList[j][1]),this.parentLayer.rotate(atan2(scalar.pxList[j][0]-scalar.pxList[0][0],scalar.pxList[0][1]-scalar.pxList[j][1])),this.parentLayer.strokeWeight(3),this.parentLayer.stroke(120,120,255,180),this.parentLayer.fill(150,150,255,120),this.parentLayer.triangle(0,0,7,20,-7,20),this.parentLayer.pop()}function draw(){if(frameCount%30==0)switch(page){case"vector addition":LaTexAddition();break;case"scalar multiplication":LaTexScMult();break;case"dot product":LaTexDotProd();break;case"cross product":LaTexCross()}switch(background(255),page){case"vector addition":case"scalar multiplication":plotdraw2D.drawMethod2D(),image(extraCanvas,0,0),extraCanvas.background(255),extraCanvas.clear(),extraCanvas.fill(255),extraCanvas.stroke(0),MovePoints(extraCanvas),DrawArrows(extraCanvas),DrawCoords(extraCanvas),DrawVectors(extraCanvas),DrawVectorText(extraCanvas);break;case"dot product":break;case"cross product":options.drawAxes3D(),ambientMaterial(50,50,255),new vector3D(x1,y1,z1,uvec),ambientMaterial(125,255,50),new vector3D(x2,y2,z2,vvec),drawCross&&(ambientMaterial(255,50,50),vector3D.cross(x1,y1,z1,x2,y2,z2)),drawNormalPlane&&vector3D.normPlane(x1,y1,z1,x2,y2,z2);break;default:page="vector addition",reInitialize()}i++}function mousePressed(){for(j=0;j<n;j++)rolloverPt[0]&&(draggingPt[0]=!0,draggingPt[1]=rolloverPt[1],mouseOffset=[pts[draggingPt[1]][0]-mouseX,pts[draggingPt[1]][1]-mouseY])}function mouseReleased(){draggingPt[0]=!1}function LaTexAddition(){let t="\\vec{v} = ";for(j=0;j<n-1;j++)t+=`\\begin{bmatrix}${(ptCoords[j+1][0]-ptCoords[j][0]).toFixed(1)} \\\\ ${(ptCoords[j+1][1]-ptCoords[j][1]).toFixed(1)}\\end{bmatrix}`,j+2<n&&(t+="+");n>2&&sumPressed&&(t+=`= \\begin{bmatrix}${vSum[0].toFixed(1)} \\\\ ${vSum[1].toFixed(1)}\\end{bmatrix}`);let e=MathJax.Hub.getAllJax("vectorLATEX")[0];null!=e&&MathJax.Hub.Queue(["Text",e,t])}function LaTexCross(){let t="\\vec{u}\\times \\vec{v} = ";if(t+=`\\begin{bmatrix}${x1.toFixed(1)} \\\\ ${y1.toFixed(1)} \\\\ ${z1.toFixed(1)}\\end{bmatrix}`,t+="\\times",t+=`\\begin{bmatrix}${x2.toFixed(1)} \\\\ ${y2.toFixed(1)} \\\\ ${z2.toFixed(1)}\\end{bmatrix}`,drawCross){let e=vector3D.cross2(x1,y1,z1,x2,y2,z2);t+=`= \\begin{bmatrix}${e[0].toFixed(1)} \\\\ ${e[1].toFixed(1)} \\\\ ${e[2].toFixed(1)}\\end{bmatrix}`}let e=MathJax.Hub.getAllJax("vectorLATEX")[0];null!=e&&MathJax.Hub.Queue(["Text",e,t])}function LaTexScMult(){let t="\\vec{u} = ";scalar.Multiplied?(t+=`${scalar.factor} `,t+=`\\begin{bmatrix}${scalar.valList[scalar.valList.length-2][0].toFixed(1)} \\\\ ${scalar.valList[scalar.valList.length-2][1].toFixed(1)} \\end{bmatrix}`,t+=`= \\begin{bmatrix}${ptCoords[1][0].toFixed(1)} \\\\ ${ptCoords[1][1].toFixed(1)} \\end{bmatrix}`):t+=`\\begin{bmatrix}${ptCoords[1][0].toFixed(1)} \\\\ ${ptCoords[1][1].toFixed(1)} \\end{bmatrix}`;let e=MathJax.Hub.getAllJax("vectorLATEX")[0];null!=e&&MathJax.Hub.Queue(["Text",e,t])}function LaTexDotProd(){dot.animationRunning||1!=dot.animationStep||dot.set();let t=MathJax.Hub.getAllJax("vectorLATEX")[0];null!=t&&MathJax.Hub.Queue(["Text",t,dot.Eqn])}var html=document.getElementsByTagName("html")[0];let basePlot2D,xyMin,xyMax,iHat,jHat,kHat,uvec,vvec,uxvvec,selectOptions,newVectorButton,sumVectorButton,resetVectorsButton,dotProductButton,dpResetButton,crossVectorCheckbox,normPlaneCheckbox,arrowsCheckbox,coordsCheckbox,rem=parseInt(window.getComputedStyle(html).fontSize),xAxisLimit=4,yAxisLimit=4,pts=[[100,200],[200,100]],ptCoords=[],n=pts.length,vSum=[0,0],vSumCoords=[[100,200],[200,100]],rolloverPt=[!1,1],rolloverLine=[!1,1],draggingPt=[!1,1],draggingLine=[!1,1],mouseOffset=[0,0],r=10,graphicsOffset=[[1,1],[1,1],[1,1]],offset=[],i=1,j=1,sumPressed=!1;var dotInput;let ops,page,drawArrows=[!1,!1,!1,!1,!1,!1,!1],drawCoords=!1,drawCross=!1,drawNormalPlane=!1,pageSelection=sessionStorage.getItem("pageVal");var cnv;let guiU,guiV,gui2D,cnvOffset=154;page=sessionStorage.getItem("pageVal")?pageSelection:"vector addition";let twoDimension=!0;var x1=1,y1=0,z1=0,x2=0,y2=0,z2=1,multFac=1;let myFont,aspRatio=.8,margins=120,pageWidth=Math.min(window.innerWidth-margins,800),pageHeight=pageWidth*aspRatio;class options{constructor(t){this.gPlot=t}defaultPlot(){this.gPlot.setPos(0,0),this.gPlot.setOuterDim(width-100,height),this.gPlot.setXLim(-xAxisLimit,xAxisLimit),this.gPlot.setYLim(-yAxisLimit,xAxisLimit),this.gPlot.getXAxis().getAxisLabel().setText("x - axis"),this.gPlot.getYAxis().getAxisLabel().setText("y - axis"),this.gPlot.getXAxis().setFontSize(1*rem),this.gPlot.getYAxis().setFontSize(1*rem),this.gPlot.getXAxis().getAxisLabel().setFontSize(1*rem),this.gPlot.getYAxis().getAxisLabel().setFontSize(1*rem),this.gPlot.getTitle().setText(" "),this.gPlot.getTitle().setFontSize(1.2*rem)}static defaultSidebar(){void 0===newVectorButton&&(newVectorButton=createButton("insert vector"),newVectorButton.position(width-100,90+cnvOffset),newVectorButton.mousePressed(newVector),sumVectorButton=createButton("sum vectors"),sumVectorButton.position(width-100,140+cnvOffset),sumVectorButton.mousePressed(sumVector),resetVectorsButton=createButton("reset"),resetVectorsButton.position(width-100,240+cnvOffset),resetVectorsButton.mousePressed(reset),dotProductButton=createButton("dot product"),dotProductButton.position(width-100,90+cnvOffset),dotProductButton.mousePressed(dot.product),dotProductButton.hide(),dpResetButton=createButton("reset"),dpResetButton.position(width-100,140+cnvOffset),dpResetButton.mousePressed(dot.reset),dpResetButton.hide(),crossVectorCheckbox=createCheckbox("show cross product",!1),crossVectorCheckbox.position(width-80,80+cnvOffset),crossVectorCheckbox.changed(mySelectEvent),normPlaneCheckbox=createCheckbox("show normal plane",!1),normPlaneCheckbox.position(width-80,110+cnvOffset),normPlaneCheckbox.changed(mySelectEvent),selectOptions=createSelect(),selectOptions.position(width-100,40+cnvOffset),selectOptions.option("vector addition"),selectOptions.option("scalar multiplication"),selectOptions.option("dot product"),selectOptions.option("cross product"),selectOptions.value(page),selectOptions.changed(reInitialize),QuickSettings.useExtStyleSheet(),gui2D=createGui("scalar multiplier",width-100,180+cnvOffset),gui2D.newSlider("multFac",-4,4,1,.1,"multiply by",""),gui2D.addButton("multiply!",function(){scalar.Mult()}),gui2D.addButton("reset",function(){scalar.Reset()}),gui2D.hide()),dotInput={i1:document.getElementById("inpVec1i"),j1:document.getElementById("inpVec1j"),k1:document.getElementById("inpVec1k"),i2:document.getElementById("inpVec2i"),j2:document.getElementById("inpVec2j"),k2:document.getElementById("inpVec2k")}}static drawAxes3D(){background(255),orbitControl(3,3),ambientLight(160,160,160),pointLight(255,255,255,20,20,200);let t=createVector(0,1,0),e=p5.Vector.cross(t,createVector(1,0,0)),s=(p5.Vector.cross(t,createVector(0,1,0)),p5.Vector.cross(t,createVector(0,0,1))),a=[-180,0,180],o=200,r=.5,i=[0,0,0];push(),ambientMaterial.apply(this,i),translate(a[0],a[1],a[2]),rotate(PI/2,e),translate(0,o/2,0),cylinder(r,o),translate(0,o/2+2,0),cone(4,10),pop(),push(),ambientMaterial.apply(this,i),translate(a[0],a[1],a[2]),rotateX(PI),translate(0,o/2,0),cylinder(r,o),translate(0,o/2+2,0),cone(4,10),pop(),push(),ambientMaterial.apply(this,i),translate(a[0],a[1],a[2]),rotate(-PI/2,s),translate(0,o/2,0),cylinder(r,o),translate(0,o/2+2,0),cone(4,10),pop();let n=window._renderer._curCamera.eyeX,p=window._renderer._curCamera.eyeY,d=window._renderer._curCamera.eyeZ,c=createVector(n,p,d),l=atan2(n,d),h=-atan2(p,c.mag());textAlign(CENTER),push(),fill(0),translate(a[0],a[1],a[2]),translate(o+30,10,0),rotate(l,t),rotateX(h),text("_.",-1e3,-1e3),text("x",0,0),pop(),push(),fill(0),translate(a[0],a[1],a[2]),translate(0,-o-40,0),rotate(l,t),rotateX(h),text("z",0,0),pop(),push(),fill(0),translate(a[0],a[1],a[2]),translate(0,10,-o-40),rotate(l,t),rotateX(h),text("y",0,0),pop()}}class drawing{constructor(t){this.gPlot=t}drawMethod2D(){this.gPlot.beginDraw(),this.gPlot.drawBackground(),this.gPlot.drawBox(),this.gPlot.setHorizontalAxesNTicks(8),this.gPlot.setVerticalAxesNTicks(8),this.gPlot.drawGridLines(GPlot.BOTH),this.gPlot.drawXAxis(),this.gPlot.drawYAxis(),this.gPlot.drawTitle(),this.gPlot.endDraw()}}let scalar={Mult:function(){this.Multiplied=!0,this.factor=multFac;let t=getCoords(0,0,basePlot2D);this.pxList[0]=t,this.pxList[1]=[pts[1][0],pts[1][1]],this.valList[0]=[0,0],this.valList[1]=[ptCoords[1][0],ptCoords[1][1]];let e=[Math.round(10*ptCoords[1][0]*multFac)/10,Math.round(10*ptCoords[1][1]*multFac)/10];this.valList[2]=e;let s=getCoords(e[0],e[1],basePlot2D);pts[1]=s},Reset:function(){this.Multiplied=!1,this.pxList=[],this.valList=[],pts[0]=getCoords(0,0,basePlot2D),pts[1]=getCoords(1,0,basePlot2D)},factor:1,Multiplied:!1,pxList:[],valList:[]},dot={v1:[0,0,0],v2:[0,0,0],Prod:0,baseEqn:"",Eqn:"",animationStep:1,animationRunning:!1,product:function(){dot.animationRunning=!0,dot.Prod=dot.v1[0]*dot.v2[0]+dot.v1[1]*dot.v2[1]+dot.v1[2]*dot.v2[2],dot.animationStep=1,dot.baseEqn="\\require{color} \\vec{u} \\cdot \\vec{v} = ",dot.baseEqn+=`\\begin{bmatrix}${dot.v1[0].toFixed(1)} \\\\ ${dot.v1[1].toFixed(1)} \\\\ ${dot.v1[2].toFixed(1)} \\end{bmatrix}`,dot.baseEqn+="\\cdot",dot.baseEqn+=`\\begin{bmatrix}${dot.v2[0].toFixed(1)} \\\\ ${dot.v2[1].toFixed(1)} \\\\ ${dot.v2[2].toFixed(1)} \\end{bmatrix}`,$("#inpVec1i, #inpVec2i").queue(function(){1==dot.animationStep&&(dot.Eqn=dot.baseEqn+`=(\\colorbox{yellow}{${dot.v1[0].toFixed(1)}} \\cdot \\colorbox{yellow}{${dot.v2[0].toFixed(1)}}) ...`),dot.animationStep=2,$(this).addClass("highlighted").dequeue()}).delay(2e3).queue(function(){$(this).removeClass("highlighted").dequeue()}),$("#inpVec1j, #inpVec2j").delay(2600).queue(function(){2==dot.animationStep&&(dot.Eqn=dot.baseEqn+`=(${dot.v1[0].toFixed(1)}\\cdot ${dot.v2[0].toFixed(1)})`+`+(\\colorbox{yellow}{${dot.v1[1].toFixed(1)}} \\cdot \\colorbox{yellow}{${dot.v2[1].toFixed(1)}}) ...`),dot.animationStep=3,$(this).addClass("highlighted").dequeue()}).delay(2e3).queue(function(){$(this).removeClass("highlighted").dequeue()}),$("#inpVec1k, #inpVec2k").delay(5200).queue(function(){3==dot.animationStep&&(dot.Eqn=dot.baseEqn+`=(${dot.v1[0].toFixed(1)}\\cdot ${dot.v2[0].toFixed(1)})`+`+(${dot.v1[1].toFixed(1)}\\cdot ${dot.v2[1].toFixed(1)})`+`+(\\colorbox{yellow}{${dot.v1[2].toFixed(1)}} \\cdot \\colorbox{yellow}{${dot.v2[2].toFixed(1)}}) ...`),dot.animationStep=4,$(this).addClass("highlighted").dequeue()}).delay(2400).queue(function(){4==dot.animationStep&&(dot.Eqn=dot.baseEqn+`=(${dot.v1[0].toFixed(1)}\\cdot ${dot.v2[0].toFixed(1)})`+`+(${dot.v1[1].toFixed(1)}\\cdot ${dot.v2[1].toFixed(1)})`+`+(${dot.v1[2].toFixed(1)}\\cdot ${dot.v2[2].toFixed(1)})`+`=${dot.Prod.toFixed(2)}`,dot.animationRunning=!1),dot.animationStep=5,$(this).removeClass("highlighted").dequeue()})},reset:function(){dot.animationStep=1,dot.Eqn="\\vec{u} \\cdot \\vec{v} = ",dot.Eqn+=`\\begin{bmatrix}${dot.v1[0].toFixed(1)} \\\\ ${dot.v1[1].toFixed(1)} \\\\ ${dot.v1[2].toFixed(1)} \\end{bmatrix}`,dot.Eqn+="\\cdot",dot.Eqn+=`\\begin{bmatrix}${dot.v2[0].toFixed(1)} \\\\ ${dot.v2[1].toFixed(1)} \\\\ ${dot.v2[2].toFixed(1)} \\end{bmatrix}`,LaTexDotProd()},set:function(){dot.Eqn="\\vec{u} \\cdot \\vec{v} = ",dot.Eqn+=`\\begin{bmatrix}${dot.v1[0].toFixed(1)} \\\\ ${dot.v1[1].toFixed(1)} \\\\ ${dot.v1[2].toFixed(1)} \\end{bmatrix}`,dot.Eqn+="\\cdot",dot.Eqn+=`\\begin{bmatrix}${dot.v2[0].toFixed(1)} \\\\ ${dot.v2[1].toFixed(1)} \\\\ ${dot.v2[2].toFixed(1)} \\end{bmatrix}`}};class vector3D{constructor(t,e,s,a,o){this.i=t,this.j=-s,this.k=-e,this.labelDims=void 0===o?[20,25]:o,this.label=void 0===a?" ":a;let r=0,i=createVector(0,1,0),n=createVector(this.i,this.j,this.k),p=p5.Vector.cross(i,n);if(push(),0!=p.x||0!=p.y||0!=p.z?(r=Math.acos(this.j/n.mag()),rotate(r,p)):this.j<=0&&rotateX(PI),0!=this.i||0!=this.j||0!=this.k){translate(0,40*n.mag()/2,0),cylinder(2,40*n.mag()),translate(0,40*n.mag()/2+2,0),cone(5,15),translate(0,30,0),fill(0),0!=p.x||0!=p.y||0!=p.z?(r=Math.acos(this.j/n.mag()),rotate(-r,p)):this.j<=0&&rotateX(-PI);let t=window._renderer._curCamera.eyeX,e=window._renderer._curCamera.eyeY,s=window._renderer._curCamera.eyeZ,a=createVector(t,e,s),o=atan2(t,s),d=-atan2(e,a.mag());textAlign(CENTER),rotate(o,i),rotateX(d),text("_.",-1e3,-1e3),"string"==typeof this.label?text(this.label,0,0):(texture(this.label),plane(this.labelDims[0],this.labelDims[1]))}pop()}static cross(t,e,s,a,o,r){let i=createVector(t,e,s),n=createVector(a,o,r),p=p5.Vector.cross(i,n);new vector3D(p.x,p.y,p.z,uxvvec,[80,25])}static cross2(t,e,s,a,o,r){let i=createVector(t,e,s),n=createVector(a,o,r),p=p5.Vector.cross(i,n);return[p.x,p.y,p.z]}static normPlane(t,e,s,a,o,r){let i=vector3D.cross2(t,e,s,a,o,r),n=i[0],p=-i[2],d=-i[1],c=createVector(0,1,0),l=createVector(n,p,d),h=p5.Vector.cross(c,l);push();let g=Math.acos(p/l.mag());rotate(g,h),rotateX(-PI/2),shininess(10),specularMaterial(250,50),box(300,300,2),pop()}}