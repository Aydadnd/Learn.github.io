function applyEffect(e){e.delete;let t=e.time/animSpeedMult||.5;for(i=0;i<e.length;i++){let r=e[i].target,l=e[i].effect,s=e[i].color||null,o="cnvElement"!=(e[i].type||"DOM");if(o)switch(l){case"fade":r.style.opacity="1",r.style.transition=`opacity ${t}s`,r.style.opacity="0";break;case"expand":r.style.fontSize=fontSize,r.style.transition=`all ${1/animSpeedMult}s`,r.firstChild.style.transition=`all ${1/animSpeedMult}s`,r.firstChild.style.fontSize=`${largeFontSize}rem`,r.style.top=`${texY+1.2*lnHt}px`;break;case"glow":glow({continuous:2==page,duration:2e3,element:r,id:Math.floor(i/2)});break;case"color":glow({continuous:!1,duration:1e3,element:r,id:s});break;case"zeroAndDelete":let e=[0,.8,1.6,2.4,3.2,4,4.8];var n=[.06,.04,.04,.05,.05,.05];for(let e=0;e<n.length;e++)n[e]*=animSpeedMult;if(running){if(running&&prg<e[1]){prg+=n[0];let t=e[1]-e[0];push(),strokeWeight(4),line(x1,y1,(1-prg/t)*x1+prg/t*x2,(1-prg/t)*y1+prg/t*y2),pop()}else if(running&&prg<e[2]){prg+=n[1];let t=e[2]-e[1];push(),noStroke(),fill(`rgba(0, 0, 0, ${(prg-e[1])/t})`),text("0",x2,y2-lnHt),pop()}else if(running&&prg<e[3])prg+=n[2];else if(running&&prg<e[4]){prg+=n[3];let t=e[4]-e[3],r=Object.keys(eqns.fundamentals),i=eqns.fundamentals[r[choices[0]]];selectItem(i,eqnLetterObjs,choices[1]).forEach(function(n){n.style.opacity=`${(e[4]-prg)/t}`}),clear(),push(),noStroke(),fill(`rgba(0, 0, 0, ${Math.max((e[4]-prg)/t,0)})`),text("0",x2,y2-lnHt),stroke(`rgba(0, 0, 0, ${Math.max((e[4]-prg)/t,0)})`),strokeWeight(4),line(x1,y1,x2,y2),pop(),(e[4]-prg)/t<.05&&(selectItem(i,eqnLetterObjs,choices[1]).forEach(function(e){e.style.visibility="hidden"}),clear())}else if(running&&prg<e[5]){if(prg<e[4]+n[4]){let t=e[5]-e[4],r=document.getElementById(`eq${choices[0]}`);r.style.transition=`all ${t/n[4]/fps}s`,r.style.top=`${texY}px`;let i=refLeft-getCoords(eqnLetterObjs[2]).left,l=getCoords(eqnLetterObjs[0]).left;r.style.left=`${l+i}px`}prg+=n[4]}else if(running&&prg<e[6]){prg+=n[5];let t=e[6]-e[5];if(0==choices[1]){xNew=getCoords(selectItem(str,eqnLetterObjs,0)[0]).left,negativeQ="+"!=selectItem(str,eqnLetterObjs,1,!0).charAt(0);let e=selectItem(str,eqnLetterObjs,1);negativeQ||(e[0].style.visibility="hidden",e.shift()),xOrig=getCoords(e[0]).left,e.forEach(function(e){e.style.transition=`all ${t/n[5]/fps}s`,e.style.transform=`translateX(${xNew-xOrig}px)`})}prg=e[6]}else if(running&&prg>=e[6])return running=!1,prg=0,next(parseInt(`${page}`),null)}else{for(prg=0,x1=getCoords(r[0]).left,x2=getCoords(r[1]).right,y1=getCoords(r[0]).bottom+10+.5*lnHt,y2=getCoords(r[1]).top+10-.5*lnHt,running=!0,effects=!0,update=!1,i=0;i<domObjs.length;i++)domObjs[i].div.style("z-index","-1");loop()}}}}function glow({continuous:e,duration:t,element:n,id:r}){let i=Math.floor(t*fps/1e3),l=frameCount%i/i,s=e?.5+.5*Math.sin(l*Math.PI):1,o=0==r?[70,200,50]:1==r?[100,100,255]:[0,0,0],g=`rgb(${o[0]*s},${o[1]*s},${o[2]*s})`;n.style.color=g,e&&loop()}var glowList=[];let x1,x2,y1,y2,negativeQ,xOrig,xNew,running=!1,prg=0;