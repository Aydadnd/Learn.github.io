
let tie = [[[[0.124, 0.052], [0.93, 0.078]], [[0.16, 0.104], [0.88, 0.173]], [[0.2, 0.173], [0.83, 0.26]], [[0.256, 0.268], [0.77, 0.346]], [[0.34, 0.372], [0.67, 0.433]]],[[[0.094, 0.07], [0.9, 0.09]], [[0.128, 0.12], [0.84, 0.17]], [[0.166, 0.18], [0.77, 0.25]], [[0.2, 0.23], [0.7, 0.32]], [[0.243, 0.28], [0.64, 0.36]]],[[[0.118, 0.03], [0.888, 0.06]], [[0.15, 0.09], [0.858, 0.11]], [[0.188, 0.15], [0.818, 0.17]], [[0.247, 0.23], [0.723, 0.27]], [[0.287, 0.27], [0.651, 0.32]]],[[[0.1, 0.06], [0.9, 0.1]], [[0.145, 0.15], [0.837, 0.21]], [[0.21, 0.26], [0.748, 0.35]], [[0.277, 0.37], [0.67, 0.46]], [[0.37, 0.51], [0.59, 0.56]]],[[[0.065, 0.07], [0.868, 0.11]], [[0.11, 0.13], [0.823, 0.2]], [[0.167, 0.22], [0.758, 0.32]], [[0.24, 0.33], [0.695, 0.41]], [[0.33, 0.44], [0.6, 0.5]]]];

// Original phase data made for some clunky curves, so I used some curve fitting to draw the phase curves
let fits = [[27.6754,-89.0084,112.7179,-71.4022,21.1314,-1.1159,-.0249],[-.2515,.8525,-2.845,2.2853,-.1189],[15.1332,-46.8363,53.7647,-27.8359,4.0623,1.7417,-.1888],[-55.2014,165.7246,-184.7441,93.3286,-23.6905,4.653,-.2383],[18.0717,-38.6333,19.2518,14.2341,-20.5013,6.8492,0.6956,0]];
let lims = [[0.09,0.98],[0.0545,0.956],[0.098,0.92],[0.07,0.95],[0,0.93]];

function addPhasePoints(){
    let x,y;
    for(let i = 0; i < phase.length; i++){
        for(let j = 0; j < phase[i].length-1; j += 2){
            x = phase[i][j][0] + 1/2*(phase[i][j+1][0] - phase[i][j][0]);
            y = phase[i][j][1] + 1/2*(phase[i][j+1][1] - phase[i][j][1]);
            phase[i].splice(j+1,0,[x,y]);
        }
    }
}

function phaseAndTietoPx(){
    let x, y, x1, y1;
    let ytemp;

    for(let i = 0; i < tie.length; i++){
        let temp_tie = [];
        for(let j = 0; j < tie[i].length; j++){
            let line = [];
            for(let k = 0; k < tie[i][j].length; k++){
                x = map(tie[i][j][k][0],0,1,g.xtip-g.dx,g.xtip+g.dx);
                y = map(tie[i][j][k][1],0,Math.sqrt(3)/2,g.ytip+g.dy,g.ytip);
                line.push([x,y]);
            }
            temp_tie.push(line);
        }
        g.tiepx.push(temp_tie);
    }
}


