function functionToArray(t,i){let s,e,h,n;s=i[0],h=i[1],n=i[2],e=new Array(0),4==i.length?plotRangeInc=i[3]:plotRangeInc=(n-h)/200;try{if(2!=arguments.length||"object"!=typeof arguments[1]||arguments[1].length<3||arguments[1].length>4)throw"two input arguments: 1.) a single-variate function and 2.) a 3-dimensional array for the independent variable and its respective plot range."}catch(t){console.log("function toPlot() requires "+t+" e.g. functionToArray('x + 2x + 6', [x, 0, 100])")}var o;for(o=h;o<=n;o+=plotRangeInc)e.push([o,math.eval(t.replace(new RegExp(s,"g"),String(o.toPrecision(16))))]);return e}function arrayToPlot(t,s,e){let h=new Array(0);for(void 0===e&&(e=.7),curveTightness(e),noFill(),beginShape(),h.push(s.mainLayer.valueToPlot(t[0][0],t[0][1])),curveVertex.apply(this,h[0]),i=0;i<t.length;i++)h.push(s.mainLayer.valueToPlot(t[i][0],t[i][1])),curveVertex.apply(this,h[i+1]);h.push(s.mainLayer.valueToPlot(t[t.length-1][0],t[t.length-1][1])),curveVertex.apply(this,h[h.length-1]),h.push(s.mainLayer.valueToPlot(t[t.length-1][0],t[t.length-1][1])),curveVertex.apply(this,h[h.length-1]),endShape()}function plotFunction(t,i,s,e){let h,n,o,a,l,r=[];var T;for(h=i[0],n=i[1],o=i[2],a=void 0===i[3]?(o-n)/200:i[3],s=arguments[2],void 0===e&&(e=.7),l=functionToArray(t,[h,n,o,a]),curveTightness(e),noFill(),beginShape(),T=0;T<l.length;T++)r.push(s.mainLayer.valueToPlot(l[T][0],l[T][1])),curveVertex.apply(this,r[T]);endShape()}var graphFontSize,x;class PlotCanvas{constructor(t){this.parent=t,this.GPLOT=new GPlot(this.parent),this.pos=[0,0],this.dims=[this.GPLOT.parent.width,this.GPLOT.parent.height],this.xLims=[0,1],this.yLims=[0,1],this.xAxisLabel="x - label",this.yAxisLabel="y - label",this.plotTitle="Plot Title",this.funcs=new Array(0),this.fontSize=18,this.titleFontSize=18,this.axisFontSize=15,this.axisLabelSize=15}addFuncs(){let t=0;for(t=0;t<arguments.length;t++)this.funcs.push(arguments[t])}plotDraw(){let t=0;for(this.GPLOT.beginDraw(),this.GPLOT.drawBackground(),this.GPLOT.drawBox(),this.GPLOT.drawGridLines(2),t=0;t<this.funcs.length;t++)stroke(this.funcs[t].lineColor),strokeWeight(this.funcs[t].lineThickness),arrayToPlot(this.funcs[t].arr,this.GPLOT,this.funcs[t].tightness);this.GPLOT.drawLimits(),this.GPLOT.drawXAxis(),this.GPLOT.drawYAxis(),this.GPLOT.drawTitle(),this.GPLOT.endDraw()}plotSetup(){this.GPLOT.setFontSize(this.fontSize),this.GPLOT.getXAxis().fontSize=this.axisFontSize,this.GPLOT.getYAxis().fontSize=this.axisFontSize,this.GPLOT.getXAxis().lab.fontSize=this.axisLabelSize,this.GPLOT.getYAxis().lab.fontSize=this.axisLabelSize,this.GPLOT.getTitle().fontSize=this.titleFontSize,this.GPLOT.setPos.apply(this.GPLOT,this.pos),this.GPLOT.setOuterDim.apply(this.GPLOT,this.dims),this.GPLOT.setXLim.apply(this.GPLOT,this.xLims),this.GPLOT.setYLim.apply(this.GPLOT,this.yLims),this.GPLOT.getXAxis().getAxisLabel().setText(this.xAxisLabel),this.GPLOT.getYAxis().getAxisLabel().setText(this.yAxisLabel),this.GPLOT.getTitle().setText(this.plotTitle)}labelDraw(t,i,s,e,h,n,o){let a=CENTER,l=CENTER;h&&(a=h[0],l=h[1]);let r=this.fontSize;if(n)switch(n){case"sub":case"super":r=.8*this.fontSize}if(o){let t=this.GPLOT.getScreenPosAtValue(i,s);push(),fill(this.GPLOT.boxBgColor.levels[0],this.GPLOT.boxBgColor.levels[1],this.GPLOT.boxBgColor.levels[2],e.levels[3]),noStroke(),rectMode(CENTER),rect(t[0],t[1],r*o[0],r*o[1]),pop()}this.GPLOT.getMainLayer().fontColor=e,this.GPLOT.getMainLayer().fontSize=r,this.GPLOT.beginDraw(),this.GPLOT.drawAnnotation(t,i,s,a,l),this.GPLOT.endDraw()}}class Plot{constructor(t,i,s,e,h){this.func=t,this.indep=i,this.min=s,this.max=e,this.resolution=void 0===h?(this.max-this.min)/200:h,this.lineColor=color(0,0,0),this.lineThickness=2,this.arr=functionToArray(this.func,[this.indep,this.min,this.max,this.resolution]),this.tightness=.7}update(t){this.func=t,this.arr=functionToArray(this.func,[this.indep,this.min,this.max,this.resolution])}}class ArrayPlot{constructor(t){this.min=t[0][1],this.max=t[t.length-1][1],this.lineColor=color(0,0,0),this.lineThickness=2,this.tightness=.7,this.arr=t}update(t){this.arr=t}}