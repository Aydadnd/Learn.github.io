function setup(){windowResized(),cnv=createCanvas(dims,dims),cnv.parent("main"),mainDiv=document.getElementById("main"),background(240),liquidColor=color(200,200,240),frameRate(30);for(let i=0;i<mols;i++)i%2==0?mol.push(new Molecule({component:"a"})):mol.push(new Molecule({component:"b"}));molNumberSlider=createSlider(10,200,50,1),molNumberSlider.position(dims,10),molNumberSlider.style("width","100px"),molNumberSlider.changed(assignGlobals),volatilitySlider=createSlider(-1,1,0,.1),volatilitySlider.position(dims,100),volatilitySlider.style("width","100px"),volatilitySlider.changed(assignGlobals)}function assignGlobals(){mols=molNumberSlider.value(),Alpha=Math.pow(10,volatilitySlider.value())}function draw(){for(background(240),drawLiquid(),mol.forEach(i=>i.Draw());mols<mol.length;){let i=mol[mol.length-1];"a"==i.component?"vapor"==i.state?(molsVapor[0]--,molsVapor[1]--):(molsLiquid[0]--,molsLiquid[1]--):"vapor"==i.state?(molsVapor[0]--,molsVapor[2]--):(molsLiquid[0]--,molsLiquid[2]--),mol.pop(),i.div.remove()}for(;mols>mol.length;)mol.length%2==0?mol.push(new Molecule({component:"a"})):mol.push(new Molecule({component:"b"}))}function drawLiquid(){push(),rectMode(CORNER),noStroke(),fill(liquidColor),rect(0,liquidLine,dims,dims),pop()}function windowResized(){dims=Math.min(400,Math.min(windowWidth-100,windowHeight-100)),liquidLine=dims-liquidLevel*dims,evapFraction=(1-fracLiq)*(dims-liquidLine)/dims/((1-fracLiq)*(dims-liquidLine)/dims+fracLiq*liquidLine/dims),condFraction=fracLiq*liquidLine/dims/((1-fracLiq)*(dims-liquidLine)/dims+fracLiq*liquidLine/dims),resizeCanvas(dims,dims)}let dims,cnv,mainDiv,liquidColor,liquidLine,molNumberSlider,evapFraction,condFraction,mol=[],liquidLevel=.2;var mols=50,Alpha=1,fracLiq=.85,molsVapor=[0,0,0],molsLiquid=[0,0,0],xA=.5,xB=.5,yA=.5,yB=.5;