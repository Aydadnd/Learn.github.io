<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="content-language" content="en">
  <title>Bernoulli Fluid Flow</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
</head>

<body>
  <div id="input-area">
    
    <div class="slider-container">
      <div class="slider-label">Change in height </div>
      <input type="range" class="slider" id="heightSlider" min="0" max="200" step="0.1" value="50" />
      <div class="slider-value" id="height-value">2.7</div>
      <div class="slider-metric">m</div>
    </div>

    <div class="slider-container">
      <div class="slider-label">Outlet pipe diameter</div>
      <input type="range" class="slider" id="outletDiameterSlider" min="10" max="50" step="0.1" value="20" />
      <div class="slider-value" id="outlet-diameter-value">5</div>
      <div class="slider-metric">cm</div>
    </div>

    <div class="slider-container">
      <div class="slider-label">Inlet pressure</div>
      <input type="range" class="slider" id="inletPressureSlider" min="1" max="1000" step="0.1" value="100" />
      <div class="slider-value" id="inlet-pressure-value">100</div>
      <div class="slider-metric">kPa</div>
    </div>

    <div class="slider-container">
      <div class="slider-label">Inlet velocity</div>
      <input type="range" class="slider" id="inletVelocitySlider" min="0.1" max="10" step="0.1" value="1" />
      <div class="slider-value" id="inlet-velocity-value">1.0</div>
      <div class="slider-metric">m/s</div>
    </div>

    <div class="btn-group btn-group-toggle" data-toggle="buttons">
      Display:
      <label class="btn btn-success active" id="toggle-1">
        <input type="radio" name="options" id="option1" autocomplete="off" checked>Fluid properties
      </label>
      <label class="btn btn-success">
        <input type="radio" name="options" id="option2" autocomplete="off">Energy
      </label>
    </div>
  
  </div>

  <button type="button" class="btn btn-primary" id="directions-button" data-toggle="modal" data-target=".main-modal">Directions</button>
  <button type="button" class="btn btn-primary" id="details-button" data-toggle="modal" data-target=".main-modal">Details</button>
  <button type="button" class="btn btn-primary" id="about-button" data-toggle="modal" data-target=".main-modal">About</button>

  <div class="modal fade main-modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        
        <div class="modal-header">
          <h5 class="modal-title details">Details</h5>
          <h5 class="modal-title directions">Directions</h5>
          <h5 class="modal-title about">About</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        
        <div class="modal-body directions">
          <p>
            This application simulates water flowing through a pipe with an inlet diameter of 5 cm. You can adjust the outlet height (i.e., change Δz), outlet pipe diameter, inlet gauge pressure, and inlet velocity using the sliders. You can toggle which variables are displayed by pressing "Fluid properties" or "Energy". The outlet conditions are calculated using Bernoulli's equation. To learn more about Bernoulli's equation, click the "Details" button.
          </p>
        </div>

        <div class="modal-body details">
          <p>
            Bernoulli's equation is a steady-state energy balance. It states that the sum of a fluid's kinetic energy, potential energy and pressure are constant along a streamline.  For incompressible flow, Bernoulli's equation is:
            
            $$
              \frac{ \rho v^{2} }{ 2 } + \rho gz + p = constant
            $$

            where \( v \) is fluid velocity, \( g \) is the gravitational constant (9.81 m/s<sup>2</sup>), \( p \) is pressure, and \( \rho \) is fluid density. Thus, the properties at the outlet can be determined given the properties at the inlet:
            
            $$
             \frac{ \rho v^{2}_{in} }{ 2 } + \rho gz_{in} + p_{in} = \frac{ \rho v^{2}_{out} }{ 2 } + \rho gz_{out} + p_{out}
            $$
            
            A mass balance is required to solve for \( v_{out} \). The volumetric flowrate is constant because the fluid is assumed to be incompressible, meaning velocity times cross-sectional area remains constant:

            $$
              \frac{ \pi D_{ in }^{ 2 } }{4} v_{in}  = \frac{ \pi D_{ out }^{ 2 } }{4} v_{out} 
            $$
            
            where \( D_{i} \) is pipe diameter. Solving for the fluid velocity at the outlet,
            
            $$
              v_{out} = v_{in} \frac{ D^{2}_{in} }{ D^{2}_{out} }
            $$
          </p>
        </div>

        <div class="modal-body about">
          <p>
            This simulation was created in the <a href="https://www.colorado.edu/chbe" target="_blank">Department of Chemical and Biological Engineering</a>, at University of Colorado Boulder for <a href="http://www.learncheme.com" target="_blank">LearnChemE.com</a> by Neil Hendren under the direction of Professor John L. Falconer. Address any questions or comments to learncheme@gmail.com. All of our simulations are open source, and are available on our <a href="https://github.com/LearnChemE/LearnChemE.github.io/" target="_blank">LearnChemE Github repository</a>.<br><br>Is your screen too small to fit this application? Try zooming-out on the web page (CTRL+"-" and CTRL+"=" on Windows, or ⌘+"-" and ⌘+"=" on Mac), then refreshing the page. This application is not compatible with Internet Explorer or web browsers that do not support WebGL and HTML5. The recommended browser is the latest version of: Chrome, Safari, Firefox, Edge, Brave, or Opera. 
          </p>
        </div>

      </div>
    </div>
  </div>

</body>

</html>