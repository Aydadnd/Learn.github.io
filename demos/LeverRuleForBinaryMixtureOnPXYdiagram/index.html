<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Lever Rule for Binary Mixtures on P-X-Y Diagram</title>

        <script src="./libraries/p5.js"></script>
        <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
        <meta name="keywords" content="LearnChemE, chemical engineering, engineering, simulation">
        <meta name="author" content="Patrick Doyle">
        <meta name="application-name" content="LearnChemE simulation template">
        <meta name="description" content="An interactive simulation to help young programmers learn to make simulations.">

        <link href="./sliders.css" rel="stylesheet">
        <link href="./style.css" rel="stylesheet">
        <link href="./bootstrap.min.css" rel="stylesheet">
        <script>
          MathJax = {
            chtml: {
              scale: 0.95,
              mathmlSpacing: true, // true for MathML spacing rules, false for TeX rules
              displayAlign: 'left', // default for indentalign when set to 'auto'
            }
          };
        </script>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="./jquery.js"></script>
        <script src="./popper.js"></script>
        <script src="./bootstrap.min.js"></script>
    </head>

    <body>
        <div id="simulation-wrapper">
          <div class="simulation-controls">           
            <div id="dir" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#directionsModal">Directions</div>
            <div id="detail" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#detailsModal">Details</div>
            <div id="about" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#aboutModal">About</div>   
          </div>
        </div>

        
        <div id="graphics-wrapper">

        </div>

        <div class="modal fade" id="directionsModal" tabindex="-1" role="dialog" aria-labelledby="directionsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="directionsModalLabel">Directions</h5>
                  <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <p>
                    This P-x-y diagram shows the regions of phase stability for a benzene-toluene mixture at 20Â°C. This mixture is modeled as an ideal solution that obeys Raoult's law. The solid red line is the bubble pressure and represents the liquid mole fraction. The solid blue curve is the dew pressure and represents the vapor composition. 
                  </p>  
                  <p>
                    Click and drag the purple dot to adjust the mixture's pressure and mole fraction of the benzene. Two phases only co-exist in equilibrium in the region bounded by the red and blue curves. When two phases co-exist, a horizontal line (the dashed line in the diagram, a tie line) through the purple point intersects the bubble and dew pressure curves at the liquid and vapor compositions, respectively, that are in equilibrium. The mole fractions of the phases are indicated by the vertical dotted lines. The relative amounts of liquid and vapor, which are shown in the bar graph, are calculated using the lever rule. The amount of vapor is proportional to the length of the dashed horizontal blue line and the amount of liquid is proportional to the length of the dashed horizontal red line.
                  </p>
                  
                  
                </div>
              </div>
            </div>
          </div>

          <div class="modal fade" id="detailsModal" tabindex="-1" role="dialog" aria-labelledby="detailsModalLabel"
          aria-hidden="true">
          <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
      
            <div class="modal-header">
              <h5 class="modal-title" id="detailsModalLabel">Details</h5>
              <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
      
            <div class="modal-body">
                <div class="modal-text">
                  Benzene and toluene form a nearly ideal solution obeying Raoult's law (\(p_A = x_Ap_A^*\)) over the entire range of composition. Composition is usually expressed as a mole fraction but sometimes other units such as mole percent or mass percent are used. An "\(x\)" usually indicates the mole fraction of the liquid phase, a "\(y\)" is used for the vapor phase, and a "\(z\)" for the total composition of all phases together.
                </div>
                <div class="modal-text">
                    The amounts in the phases are calculated from the lever rule: \(\frac{n_{liquid}}{n_{vapor}} = \frac{l_{vapor}}{l_{liquid}}\). Here \(n_{liquid}\) is the moles of liquid phase, \(n_{vapor}\) is the moles of vapor phase, and \(l_{vapor}\) and \(l_{liquid}\) are the lengths of the levers indicated by dashed lines on the phase diagrams. The "relative amount" on the bar chart is calculated from \(\frac{n_{liquid}}{n_{liquid} + n_{vapor}}\) and \(\frac{n_{vapor}}{n_{liquid} + n_{vapor}}\).
                </div>
            </div>
          </div>
        </div>
      </div>


    <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="aboutModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="aboutModalLabel">About</h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
        <div class="modal-body">
            <p>
              This simulation was created in the <a href="https://www.colorado.edu/chbe" target="_blank">Department of
                Chemical and Biological Engineering</a> at University of Colorado Boulder for <a
                href="http://www.learncheme.com" target="_blank">LearnChemE.com</a> by Patrick Doyle. It is based on a Mathematica simulation on the Wolfram Demonstration Project website prepared by Lisa Goss and modified by Rachael Baumann. Address any questions or comments to learncheme@gmail.com. All of our
              simulations are open source, and are available on our <a
                href="https://github.com/LearnChemE/LearnChemE.github.io/" target="_blank">LearnChemE Github
                repository</a>.</p>
            <p style="line-height: 3rem;">
              If this simulation is too big for your screen, zoom out using&nbsp;<span><img
                  src="https://learncheme.github.io/media/command.png" style="height: 4ch;"></span>&nbsp;+&nbsp;<span><img
                  src="https://learncheme.github.io/media/minus.png" style="height: 4ch;"></span>&nbsp;on Mac
              or&nbsp;<span><img src="https://learncheme.github.io/media/ctrl.png"
                  style="height: 4ch;"></span>&nbsp;+&nbsp;<span><img src="https://learncheme.github.io/media/minus.png"
                  style="height: 4ch;"></span>&nbsp;on Windows. To zoom in, use&nbsp;<span><img
                  src="https://learncheme.github.io/media/command.png" style="height: 4ch;"></span>&nbsp;+&nbsp;<span><img
                  src="https://learncheme.github.io/media/plus.png" style="height: 4ch;"></span>&nbsp;on Mac
              or&nbsp;<span><img src="https://learncheme.github.io/media/ctrl.png"
                  style="height: 4ch;"></span>&nbsp;+&nbsp;<span><img src="https://learncheme.github.io/media/plus.png"
                  style="height: 4ch;"></span>&nbsp;on Windows.
            </p>
        </div>
        </div>
        </div>

        <script src="index.js"></script>
        <script src="functions.js"></script>
    </body>
</html>